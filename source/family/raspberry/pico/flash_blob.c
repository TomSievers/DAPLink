/* Flash OS Routines (Automagically Generated)
 * Copyright (c) 2009-2015 ARM Limited
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

static const uint32_t rp2040_flash_prog_blob[] = {
    0xE00ABE00, 
    0xb084b580, 0x2310af00, 0x60fb681b, 0x0e1b68fb, 0x68fb60bb, 0x22ff0c1b, 0x607b4013, 0x0a1b68fb,
    0x401322ff, 0x68bb603b, 0xd1072b4d, 0x2b75687b, 0x683bd104, 0xd1012b01, 0xe0002301, 0x00182300,
    0xb00446bd, 0x0000bd80, 0xb085b590, 0x0002af00, 0x701a1dfb, 0x1c0a1dbb, 0x464c701a, 0xffd0f7ff,
    0xd0271e03, 0x881b2314, 0x4b15001a, 0x601a58e3, 0x881b2318, 0x4b13001a, 0x601a58e3, 0x58e34b10,
    0x2b00681b, 0x4b0fd016, 0x681b58e3, 0xd0112b00, 0x781a1dfb, 0x781b1dbb, 0x4313021b, 0x4b0960fb,
    0x681a58e3, 0x58e34b06, 0x68f9681b, 0x47900018, 0xe0000003, 0x00182300, 0xb00546bd, 0x46c0bd90,
    0x00000034, 0x00000024, 0xb087b590, 0x60f8af00, 0x607a60b9, 0x2146464c, 0xf7ff2049, 0x0003ffb5,
    0x4b1c001a, 0x601a58e3, 0x20452158, 0xffacf7ff, 0x001a0003, 0x58e34b18, 0x2300601a, 0x4b15617b,
    0x681b58e3, 0xd01d2b00, 0x58e34b13, 0x2b00681b, 0x687bd018, 0xd8032b02, 0x2b00687b, 0xe00cd104,
    0x2b03687b, 0xe008d00c, 0x58e34b0a, 0x4798681b, 0x58e34b09, 0x4798681b, 0x2301e003, 0xe000617b,
    0xe00146c0, 0x617b2301, 0x0018697b, 0xb00746bd, 0x46c0bd90, 0x0000002c, 0x00000030, 0xb085b590,
    0x6078af00, 0x2143464c, 0xf7ff2046, 0x0003ff6d, 0x4b1c001a, 0x601a58e3, 0x20432158, 0xff64f7ff,
    0x001a0003, 0x58e34b18, 0x2300601a, 0x4b1560fb, 0x681b58e3, 0xd01d2b00, 0x58e34b13, 0x2b00681b,
    0x687bd018, 0xd8032b02, 0x2b00687b, 0xe00cd104, 0x2b03687b, 0xe008d00c, 0x58e34b0a, 0x4798681b,
    0x58e34b09, 0x4798681b, 0x2301e003, 0xe00060fb, 0xe00146c0, 0x60fb2301, 0x001868fb, 0xb00546bd,
    0x46c0bd90, 0x00000028, 0x0000003c, 0xb086b580, 0x60f8af00, 0x1dfb60b9, 0x68fb701a, 0x2300613b,
    0xe00d617b, 0x009b697b, 0x18d3693a, 0x1dfb681a, 0x429a781b, 0x2301d001, 0x697be007, 0x617b3301,
    0x68bb697a, 0xd3ed429a, 0x00182300, 0xb00646bd, 0x0000bd80, 0xaf00b5b0, 0x2145464c, 0xf7ff2052,
    0x0003ff03, 0x4b0c001a, 0x601a58e3, 0x58e34b0a, 0x2b00681b, 0x4b08d00c, 0x681c58e3, 0x015a2380,
    0x00992380, 0x05582380, 0x47a023d8, 0xe0002300, 0x00182301, 0xbdb046bd, 0x00000038, 0xb083b590,
    0x6078af00, 0x687b464c, 0x0d1b051b, 0x2145d11c, 0xf7ff2052, 0x0003fed9, 0x4b0e001a, 0x601a58e3,
    0x58e34b0c, 0x2b00681b, 0x4b0ad00c, 0x681c58e3, 0x015a2380, 0x00992380, 0x05582380, 0x47a023d8,
    0xe0022300, 0xe0002301, 0x00182301, 0xb00346bd, 0x46c0bd90, 0x00000038, 0xb085b590, 0x60f8af00,
    0x607a60b9, 0x68fb464c, 0x401322ff, 0x68bbd11e, 0x22ff009b, 0xd1194013, 0x20522150, 0xfea4f7ff,
    0x001a0003, 0x58e34b0c, 0x4b0b601a, 0x681b58e3, 0xd0092b00, 0x58e34b08, 0x68ba681b, 0x68790092,
    0x479868f8, 0xe0022300, 0xe0002301, 0x00182300, 0xb00546bd, 0x46c0bd90, 0x00000020, 0xb086b580,
    0x60f8af00, 0x607a60b9, 0x613b68fb, 0x617b2300, 0x697be010, 0x693a009b, 0x681a18d3, 0x009b697b,
    0x18cb6879, 0x429a681b, 0x2301d001, 0x697be007, 0x617b3301, 0x68bb697a, 0xd3ea429a, 0x00182300,
    0xb00646bd, 0x0000bd80, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x000003ac, 0x00000394, 0x000003a0, 0x00000398,
    0x0000039c, 0x00000390, 0x000003a8, 0x000003a4, 0x00000000, 0x00000000, 0x00000000, 0x00000000
};

/**
* List of start and size for each size of flash sector - even indexes are start, odd are size
* The size will apply to all sectors between the listed address and the next address
* in the list.
* The last pair in the list will have sectors starting at that address and ending
* at address flash_start + flash_size.
*/
static const sector_info_t sectors_info[] = {
    {0x10000000, 0x00001000},
};

static const program_target_t flash = {
    0x200000cd, // Init
    0x20000161, // UnInit
    0x20000239, // EraseChip
    0x20000281, // EraseSector
    0x200002dd, // ProgramPage
    0x20000341, // Verify

    // BKPT : start of blob + 1
    // RSB  : blob start + header + rw data offset
    // RSP  : stack pointer
    {
        0x20000001,
        0x20000394,
        0x20000600
    },

    0x20000000 + 0x00000A00,  // mem buffer location
    0x20000000,               // location to write prog_blob in target RAM
    sizeof(rp2040_flash_prog_blob),   // prog_blob size
    rp2040_flash_prog_blob,           // address of prog_blob
    0x00000100       // ram_to_flash_bytes_to_be_written
};